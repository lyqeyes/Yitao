@model YiTao.Modules.Bll.Models.Account
@{
    Layout = null;
}
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
    <meta charset="utf-8" />
    <title>注册亿淘</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />
    <meta name="MobileOptimized" content="320">
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="~/assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css" />
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PAGE LEVEL STYLES -->
    <link rel="stylesheet" type="text/css" href="~/assets/plugins/select2/select2_metro.css" />
    <!-- END PAGE LEVEL SCRIPTS -->
    <!-- BEGIN THEME STYLES -->
    <link href="~/assets/css/style-metronic.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/style.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/style-responsive.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/plugins.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/themes/default.css" rel="stylesheet" type="text/css" id="style_color" />
    <link href="~/assets/css/pages/login.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/custom.css" rel="stylesheet" type="text/css" />
    <!-- END THEME STYLES -->
    <link rel="shortcut icon" href="favicon.ico" />
</head>
<!-- BEGIN BODY -->
<body class="login">
    <!-- BEGIN LOGO -->
    <div class="logo">
        <img src="~/assets/img/logo-big.png" alt="" />
    </div>
    <!-- END LOGO -->
    <!-- BEGIN LOGIN -->
    <div class="content">
        <!-- BEGIN LOGIN FORM -->
        <form name="register" class="login-form" action="register" method="post"> @*onsubmit="return false;"*@
            <h3 class="form-title">注册亿淘</h3>
            <p style="color:red;">@TempData["register"]</p>
            @if (ViewBag.Error != null)
            {
                <div class="alert alert-danger">
                    <button class="close" data-close="alert"></button>
                    <span>@ViewBag.Error</span>
                </div>
            }
            <div class="alert alert-danger display-hide">
                <button class="close" data-close="alert"></button>
                <span>请输入用户名及密码</span>
            </div>
            <div class="form-group">
                <!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
                <label class="control-label visible-ie8 visible-ie9">用户名</label>
                <div class="input-icon">
                    <i class="fa fa-user"></i>
                    @if (Model == null)
                    {
                        @Html.TextBox("name", String.Empty, new { @class = "form-control placeholder-no-fix", type = "text", autocomplete = "on", placeholder = "用户名", name = "name" })
                    }
                    else
                    {
                        @Html.TextBox("name", Model.Name, new { @class = "form-control placeholder-no-fix", type = "text", autocomplete = "on", placeholder = "用户名", name = "name" })
                    }
                </div>
            </div>
            <div class="form-group">
                <label class="control-label visible-ie8 visible-ie9">密码</label>
                <div class="input-icon">
                    <i class="fa fa-lock"></i>
                    @if (Model == null)
                    {
                        @Html.Password("password", String.Empty, new { @class = "form-control placeholder-no-fix", type = "password", autocomplete = "off", placeholder = "密码", name = "password" })
                    }
                    else
                    {
                        @Html.Password("password", Model.Password, new { @class = "form-control placeholder-no-fix", type = "password", autocomplete = "off", placeholder = "密码", name = "password" })
                    }
                </div>
            </div>
            <div class="form-group">
                <label class="control-label visible-ie8 visible-ie9">确认密码</label>
                <div class="input-icon">
                    <i class="fa fa-lock"></i>
                    @if (Model == null)
                    {
                        @Html.Password("password_2", String.Empty, new { @class = "form-control placeholder-no-fix", type = "password", autocomplete = "off", placeholder = "确认密码", name = "password_2" })
                    }
                    else
                    {
                        @Html.Password("password_2", Model.Password, new { @class = "form-control placeholder-no-fix", type = "password", autocomplete = "off", placeholder = "确认密码", name = "password_2" })
                    }
                </div>
            </div>
            <div class="form-group">
                <label class="control-label visible-ie8 visible-ie9">手机号</label>
                <div class="input-icon">
                    <i class="fa fa-lock"></i>
                    @Html.TextBoxFor(a => a.Phone, new { @class = "form-control placeholder-no-fix", autocomplete = "off", placeholder = "手机号" })
                </div>
            </div>
            <div class="form-group">
                <label class="control-label visible-ie8 visible-ie9">邮箱</label>
                <div class="input-icon">
                    <i class="fa fa-lock"></i>
                    @Html.TextBoxFor(a=>a.Email,new { @class = "form-control placeholder-no-fix", autocomplete = "off", placeholder = "注册邮箱地址"})
                </div>
            </div>

            <div class="form-actions">
                <p style="color:red;" id="errorInfor"></p>
                <button type="button" class="btn green pull-right" onclick="Check()">
                    注册 <i class="m-icon-swapright m-icon-white"></i>
                </button>
            </div>
        </form>
        <script>
            var regBox = {
                regEmail: /^([a-z0-9_\.-]+)@@([\da-z\.-]+)\.([a-z\.]{2,6})$/,
                regName : /^[a-z0-9_-]{3,16}$/,//用户名
                regMobile : /^0?1[3|4|5|8][0-9]\d{8}$/,//手机
                regTel : /^0[\d]{2,3}-[\d]{7,8}$/
            }
            function Check()
            {
                var phone = $("#Phone").val();
                var email = $("#Email").val();
                var same = $("#password").val() == $("#password_2").val() ? true : false;
                if (same == false) {
                    $("#errorInfor").html("两次输入的密码不一样..");
                    //return false;
                }
                else if (!regBox.regMobile.test(phone)) {
                    $("#errorInfor").html("手机号格式不正确");
                }
                else if (!regBox.regEmail.test(email)) {
                    $("#errorInfor").html("邮箱格式不正确");
                }
                else {
                    document.forms["register"].submit();
                    //return true;
                }
            }
        </script>
        <!-- END LOGIN FORM -->
    </div>
    <!-- END LOGIN -->
    <!-- BEGIN COPYRIGHT -->
    <div class="copyright">
        2014 &copy; 亿淘APP管理平台
    </div>
    <!-- END COPYRIGHT -->
    <!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
    <!-- BEGIN CORE PLUGINS -->
    <!--[if lt IE 9]>
    <script src="~/assets/plugins/respond.min.js"></script>
    <script src="~/assets/plugins/excanvas.min.js"></script>
    <![endif]-->
    <script src="~/assets/plugins/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="~/assets/plugins/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
    <script src="~/assets/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="~/assets/plugins/bootstrap-hover-dropdown/twitter-bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
    <script src="~/assets/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
    <script src="~/assets/plugins/jquery.blockui.min.js" type="text/javascript"></script>
    <script src="~/assets/plugins/jquery.cookie.min.js" type="text/javascript"></script>
    <script src="~/assets/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
    <!-- END CORE PLUGINS -->
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <script src="~/assets/plugins/jquery-validation/dist/jquery.validate.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="~/assets/plugins/select2/select2.min.js"></script>
    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN PAGE LEVEL SCRIPTS -->
    <script src="~/assets/scripts/app.js" type="text/javascript"></script>
    <script src="~/assets/scripts/login.js" type="text/javascript"></script>
    <!-- END PAGE LEVEL SCRIPTS -->
    <script>
        jQuery(document).ready(function () {
            App.init();
            Login.init();
        });
    </script>
    <!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>